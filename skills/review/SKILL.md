---
name: review
description: 指定されたコードまたはファイルに対して包括的なコードレビューを実施する。
user-invocable: true
---
# コードレビュースキル

## レビュー観点

### 1. 型安全性
- 型アノテーションの欠落または不正確な型定義
- `any` 型の過剰使用
- null/undefined の安全でないアクセス
- 型アサーション (`as`) の不適切な使用

### 2. エラーハンドリング
- try-catch の欠落
- エラーの握りつぶし（空のcatch）
- 適切なエラーメッセージの欠如
- 非同期処理のエラーハンドリング漏れ

### 3. エッジケース
- 空配列・空文字列の処理
- 境界値（0、負数、最大値）
- nullish値のチェック
- 配列の範囲外アクセス

### 4. セキュリティ
- インジェクション脆弱性（SQL、XSS、コマンド）
- ハードコードされた認証情報
- 安全でない暗号化
- 入力値の検証不足

### 5. パフォーマンス
- N+1クエリ
- 不要なループ・再計算
- メモリリーク（イベントリスナー、購読）
- 大きなオブジェクトのコピー

## 出力フォーマット

```markdown
## レビュー結果

### Critical（即座に修正必要）
- [ ] ファイル:行番号 - 問題の説明

### High（重要）
- [ ] ファイル:行番号 - 問題の説明

### Medium（推奨）
- [ ] ファイル:行番号 - 問題の説明

### Low（改善提案）
- [ ] ファイル:行番号 - 問題の説明

### 良い点
- 評価できる実装パターン
```

## 使用方法

```
/review                    # 現在のファイルをレビュー
/review src/api/           # 指定ディレクトリをレビュー
/review --security         # セキュリティ観点のみ
/review --types            # 型安全性観点のみ
```

## 注意事項

- 修正は提案のみ。実際の変更はユーザーの承認後に実施
- 重要度の高い問題から報告
- 具体的な修正案を可能な限り提示
